{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/node-gyp-rebuild-error/","webpackCompilationHash":"b2051d4a688ac6dc3a68","result":{"data":{"markdownRemark":{"id":"9a84dfa2-eca0-5950-88a7-34d9d78a1a04","html":"<p>얼마 전, 새로운 회사에서 인턴을 시작하게 되었습니다. 또 다시 공포의 개발환경 구축 시간이 찾아왔습니다. 설치, 설정 과정에서 워낙 오류가 자주 발생하는 편이라 개발환경 구축하는 시간을 제일 두려워합니다. 물론, 새로운 것을 많이 배울 수 있는 좋은 시간이기는 합니다.</p>\n<h2 id=\"어떤-오류가-발생했는가\"><a href=\"#%EC%96%B4%EB%96%A4-%EC%98%A4%EB%A5%98%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%96%88%EB%8A%94%EA%B0%80\" aria-label=\"어떤 오류가 발생했는가 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>어떤 오류가 발생했는가</h2>\n<p><code class=\"language-text\">npm install</code>로 필요한 라이브러리를 설치할 때 <code class=\"language-text\">scrypt</code>가 프로젝트에 포함되어 있었는데 이 라이브러리의 설치 과정에서 오류가 발생했습니다.</p>\n<p>에러가 발생한 지점은 <code class=\"language-text\">node-gyp rebuild</code> 명령어를 실행했을 때 였습니다. 발생한 오류는 총 <strong>2가지</strong>입니다. 하나를 해결하니 또 다른 에러가 발생하더군요ㅎㅎ</p>\n<p>아래에 두 가지 에러의 종류와 해결 과정을 정리해보았습니다. 같은 에러로 고통받는 분들께 도움이 되었으면 좋겠습니다. Mac OS 기준입니다.</p>\n<h3 id=\"첫-번째-오류--python-version\"><a href=\"#%EC%B2%AB-%EB%B2%88%EC%A7%B8-%EC%98%A4%EB%A5%98--python-version\" aria-label=\"첫 번째 오류  python version permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>첫 번째 오류 : Python version</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">node-gyp rebuild\n\ngyp ERR! configure error\ngyp ERR! stack Error: Command failed: /Users/cutelee/anaconda3/bin/python -c import sys; print “%s.%s.%s” % sys.version_info[:3];\ngyp ERR! stack   File “&lt;string&gt;“, line 1\ngyp ERR! stack     import sys; print “%s.%s.%s” % sys.version_info[:3];\ngyp ERR! stack                                ^\ngyp ERR! stack SyntaxError: invalid syntax\ngyp ERR! stack\ngyp ERR! stack     at ChildProcess.exithandler (child_process.js:281:12)\ngyp ERR! stack     at emitTwo (events.js:126:13)\ngyp ERR! stack     at ChildProcess.emit (events.js:214:7)\ngyp ERR! stack     at maybeClose (internal/child_process.js:915:16)\ngyp ERR! stack     at Socket.stream.socket.on (internal/child_process.js:336:11)\ngyp ERR! stack     at emitOne (events.js:116:13)\ngyp ERR! stack     at Socket.emit (events.js:211:7)\ngyp ERR! stack     at Pipe._handle.close [as _onclose] (net.js:561:12)</code></pre></div>\n<p>에러 메세지를 보고 python과 관련된 문제임을 추측했습니다. 구글링 해본 결과, python 2.7 버전을 사용하라는 의견이 있어 해당 버전으로 변경 후 다시 설치를 시도했습니다. 여전히 오류가 발생했지만, 이전과 다른 오류메세지를 보고 해당 문제를 해결했음을 알 수 있습니다.</p>\n<p>node-gyp 라이브러리의 <a href=\"https://github.com/nodejs/node-gyp#on-macos\">git</a>에 있는 README를 보니 3.x버전은 추천하지 않는다고 적혀있었습니다.</p>\n<h3 id=\"두-번째-오류--command-line-tool\"><a href=\"#%EB%91%90-%EB%B2%88%EC%A7%B8-%EC%98%A4%EB%A5%98--command-line-tool\" aria-label=\"두 번째 오류  command line tool permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>두 번째 오류 : command-line tool</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">node-gyp rebuild\n\n(...)\n\nNo Xcode or CLT version detected!</code></pre></div>\n<p>Xcode나 CLT가 감지되지 않았다는 새로운 에러가 발생했습니다. 구글링 하면서 찾은 <a href=\"https://github.com/nodejs/node-gyp/issues/773\">글</a>에 이미 이 내용과 관련된 글을 읽어서 <a href=\"http://osxdaily.com/2014/02/12/install-command-line-tools-mac-os-x/\">Xcode를 설치</a>하여 금방 오류를 해결할 수 있었습니다.</p>","fields":{"slug":"/posts/node-gyp-rebuild-error/","tagSlugs":["/tag/error/"]},"frontmatter":{"date":"2019-07-04","description":"scrypt를 npm으로 설치하는 과정에서 겪었던 node-gyp rebuild 오류 해결 과정을 정리한 글입니다.","title":"node-gyp rebuild 오류 해결과정","category":"Error"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/node-gyp-rebuild-error/"}}}